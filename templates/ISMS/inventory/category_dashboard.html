{% extends 'ISMS/general_layout/general_layout.html' %}

{% block title %}
    Category Dashboard
{% endblock %}

{% block nav_title %}
    Category Dashboard
{% endblock %}

{% block main_content %}
    <div style="text-align: right ; font-size: 2em">
        <a href="{% url 'new_category' %}" class="link-btn"><i class="fas fa-cog"></i></a>
    </div>

    <div class="card">
        <div class="card-body">
            <form action="" method="post">
                {% csrf_token %}
                <div class="row">
                <div class="col-sm-9">
                    <input class="form-control" name="search_key" style="border-radius: 20px" type="text" placeholder="Search category by name or id">
                </div>

                <div class="col-sm-3">
                    <button type="submit " style="border-radius: 20px" class="btn btn-warning  w-100"><i class="fas fa-search"></i></button>
                </div>
            </div>
            </form>
        </div>
    </div>


    <div class="card mt-3">
        <div class="card-body">

            <!--message window-->
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
            {% endif %}

            <div class="">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">

                    {% for category in category_list %}
                        <div class="col">
                            <center>
                                <a href="{% url 'view_category' category.id %}"><img src="{{ category.thumbnail.url }}" alt="..." class="img-thumbnail" style="width: 8em ; height: 8em  ; border-radius: 20% 0 20% 0" ></a><br>
                                <span style="font-size: .75em">{{ category.name }}</span>
                            </center>
                        </div>
                    {% endfor %}

                </div>
            </div>
        </div>
    </div>

{% endblock %}